<VirtualHost *>
	
	DocumentRoot {WWW_DIR}

	# For mod_cgid (versus mod_fcgid). Comment the next line out for mod_fcgid:
	AddHandler	cgi-script .fcgi

	# Make On
	# MakeSourceRoot {APP_DIR}
	# MakeDebug On

	RewriteEngine On

	# Allow the /html/ to be left out of the URL for any request under /html/ (i.e., not /css/, /js/, etc.)
	RewriteCond %{REQUEST_URI} !^/css/
	RewriteCond %{REQUEST_URI} !^/js/
	RewriteCond %{REQUEST_URI} !^/img/
	RewriteCond %{REQUEST_URI} !^/api/
	RewriteRule ^/(.*)$ /html/$1

	RewriteRule ^/api/post/(.*)$ 	/api/post.fcgi/$1
	RewriteRule ^/api/createlogin$ 	/api/createlogin.fcgi
	RewriteRule ^/api/login$ 		/api/login.fcgi
	RewriteRule ^/api/logout$ 		/api/logout.fcgi
	RewriteRule ^/api/edit/(.*)$ 	/api/edit.fcgi/$1

	<Directory />
		Options Indexes MultiViews FollowSymLinks 
		AllowOverride None
		Order allow,deny
		Allow from all
		Allow from 127.0.0.0/255.0.0.0 ::1/128
	</Directory>
	<Directory "{WWW_DIR}/api">
		Options ExecCGI +MultiViews FollowSymLinks
	</Directory>
</VirtualHost>
